<!DOCTYPE html>
<html>
<head>
    <title>To do list</title>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css'>
</head>
<body>
<ul class="nav nav-tabs">
    <li role="presentation" class="active"><a href="/">Home</a></li>
    <li role="presentation"><a href="/tasks/new">Add a New Task</a></li>

    <li role="presentation" class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
            Category Menu <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
            {{#if categories}}
                {{#each categories}}
                    <li><a href="/categories/{{id}}">{{name}}</a></li>
                {{/each}}
                <li><a href="/categories/new">Add a Category</a></li>

            {{else}}
                <li><a href="/categories/new">Add a Category</a></li>
            {{/if}}
        </ul>
    </li>
</ul>
<div class="container">
    <!--begin main template-->
    <div class="page-header">
        <h1>Welcome to my To Do List. <small>Let's be organized, focused, and efficient.</small></h1>
    </div>

    <div class="col-md-12">
        {{#if editTask}}
            <h1>Edit this Task!</h1>
            <form action="/tasks/{{task.id}}" method="post">
                <br>
                <label for="name">Edit this task's name</label>
                <input id="name" name="name" type="text" value="{{task.name}}">
                <label for="description">Edit this task's description</label>
                <input id="description" name="description" type="text" value="{{task.description}}">
                <br>
                <label for="categoryId">Update this task's category:</label>
                <select id="categoryId" name="categoryId">
                    {{#each categories}}
                        <option value="{{id}}">{{name}}</option>
                    {{/each}}
                </select>
                <p>Don't see the right category?<a href="/categories/new">Add a new one first.</a></p>
                <button type="submit" class="btn btn-default">Go!</button>
            </form>
        {{else}}
            <h2>Add a new Task!</h2>
            <form action="/tasks" method="post">
                {{#if categories}}
                    <label for="name">Name this task</label>
                    <input id="name" name="name" type="text">
                    <label for="description">Task Description</label>
                    <input id="description" name="description" type="text">
                    <label for="categoryId">Categorize this task as:</label>
                    <select id="categoryId" name="categoryId">
                        {{#each categories}}
                            <option value="{{id}}">{{name}}</option>
                        {{/each}}
                    </select>
                    <p>Don't see the right category?<a href="/categories/new">Add a new one first.</a></p>
                {{else}}
                    <h3> You'll need to add a category before you add a task. <a href="/categories/new">Add one here.</a> </h3>
                {{/if}}
                <button type="submit" class="btn btn-default">Go!</button>
            </form>
        {{/if}}
    </div>
</div>
<!--end main template-->
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </html>

